import{S as P,i as M,s as N,e as u,a,b as h,d as v,c as K,n as k,t as I,f as i,g as D,h as _,j as H,k as Q,l as V,m as A,o as T,p as E,q as J,r as q,u as W,v as X,R as Y,w as Z}from"./vendor.902afe47.js";const ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}};ee();function te(r){let e;return{c(){e=u("div"),e.innerHTML=`<div class="flex-1"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-6 h-6 mx-2 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>  
      <p>\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u6B63\u3057\u304F\u52D5\u4F5C\u3057\u306A\u3044\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\uFF61<br/>
        URL\u3092\u30B3\u30D4\u30FC\u3057\u3066GoogleChrome\u3092\u304A\u4F7F\u3044\u304F\u3060\u3055\u3044\uFF61</p></div>`,a(e,"class","alert alert-warning max-w-screen-2xl px-4 my-8 md:px-8 mx-auto max-w-lg")},m(n,s){h(n,e,s)},d(n){n&&v(e)}}}function ne(r){let e,n=!r[0]&&te();return{c(){n&&n.c(),e=K()},m(s,t){n&&n.m(s,t),h(s,e,t)},p:k,i:k,o:k,d(s){n&&n.d(s),s&&v(e)}}}function le(r){return[window.navigator.userAgent.toLowerCase().indexOf("chrome")!=-1]}class se extends P{constructor(e){super();M(this,e,le,ne,N,{})}}function oe(r){let e,n,s;return{c(){e=u("button"),e.textContent="Stop",a(e,"class","btn btn-secondary")},m(t,l){h(t,e,l),n||(s=T(e,"click",r[5]),n=!0)},p:k,d(t){t&&v(e),n=!1,s()}}}function re(r){let e,n,s,t;return{c(){e=u("button"),n=I("Start"),a(e,"class","btn btn-primary"),e.disabled=r[2]},m(l,o){h(l,e,o),i(e,n),s||(t=T(e,"click",r[4]),s=!0)},p(l,o){o&4&&(e.disabled=l[2])},d(l){l&&v(e),s=!1,t()}}}function G(r){let e,n,s,t;return{c(){e=u("div"),n=u("div"),s=u("p"),t=I(r[0]),a(n,"class","card-body py-2"),a(e,"class","card text-center shadow-2xl lg:card-side bg-accent text-accent-content max-w-lg gap-4 my-8 mx-auto")},m(l,o){h(l,e,o),i(e,n),i(n,s),i(s,t)},p(l,o){o&1&&D(t,l[0])},d(l){l&&v(e)}}}function ae(r){let e,n,s,t,l,o,c,m,L,b,R,d,w,x,z,B,j,y,S,O,U;function F(f,$){return f[2]?oe:re}let C=F(r),g=C(r),p=r[0]!==""&&G(r);return y=new se({}),{c(){e=u("div"),n=u("div"),s=u("div"),t=u("div"),l=u("div"),o=u("label"),o.innerHTML='<span class="label-text">Username</span>',c=_(),m=u("input"),L=_(),b=u("label"),b.innerHTML='<span class="label-text">Language</span>',R=_(),d=u("select"),w=u("option"),w.textContent="\u65E5\u672C\u8A9E",x=u("option"),x.textContent="English",z=_(),g.c(),B=_(),p&&p.c(),j=_(),H(y.$$.fragment),a(o,"class","label"),a(o,"for","username"),a(m,"name","username"),a(m,"type","text"),a(m,"placeholder","username"),a(m,"class","input input-bordered"),m.value=r[3],a(l,"class","form-control"),a(b,"class","label"),a(b,"for","language"),w.__value="ja-JP",w.value=w.__value,x.__value="es-EN",x.value=x.__value,a(d,"name","language"),a(d,"class","select select-bordered w-full"),r[1]===void 0&&Q(()=>r[7].call(d)),a(t,"class","flex flex-col gap-4 p-4 md:p-8"),a(s,"class","max-w-lg border rounded-lg mx-auto"),a(n,"class","max-w-screen-2xl px-4 md:px-8 mx-auto"),a(e,"class","py-6 sm:py-8 lg:py-12")},m(f,$){h(f,e,$),i(e,n),i(n,s),i(s,t),i(t,l),i(l,o),i(l,c),i(l,m),i(t,L),i(t,b),i(t,R),i(t,d),i(d,w),i(d,x),V(d,r[1]),i(t,z),g.m(t,null),i(n,B),p&&p.m(n,null),i(n,j),A(y,n,null),S=!0,O||(U=[T(d,"change",r[6]),T(d,"change",r[7])],O=!0)},p(f,[$]){$&2&&V(d,f[1]),C===(C=F(f))&&g?g.p(f,$):(g.d(1),g=C(f),g&&(g.c(),g.m(t,null))),f[0]!==""?p?p.p(f,$):(p=G(f),p.c(),p.m(n,j)):p&&(p.d(1),p=null)},i(f){S||(E(y.$$.fragment,f),S=!0)},o(f){J(y.$$.fragment,f),S=!1},d(f){f&&v(e),g.d(),p&&p.d(),q(y),O=!1,W(U)}}}function ie(r,e,n){let s=new URL(window.location.href).searchParams.get("username"),t="",l="ja-JP",o=!1,c=null;typeof webkitSpeechRecognition!="undefined"?c=new webkitSpeechRecognition:typeof SpeechRecognition!="undefined"?c=new SpeechRecognition:typeof mozSpeechRecognition!="undefined"&&(c=new mozSpeechRecognition),c&&(c.lang="ja-JP",c.continuous=!0,c.onresult=d=>{c.stop(),d.results[0].isFinal&&(n(0,t=d.results[0][0].transcript),fetch("https://voice-to-text-neosvr.deno.dev/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,text:t})}))},c.onend=()=>{o&&c.start()});function m(){n(2,o=!0),c.start()}function L(){n(2,o=!1),c.abort()}function b(){c.lang=l}function R(){l=X(this),n(1,l)}return[t,l,o,s,m,L,b,R]}class ce extends P{constructor(e){super();M(this,e,ie,ae,N,{})}}function ue(r){let e,n,s;return n=new Z({props:{path:"",component:ce}}),{c(){e=u("main"),H(n.$$.fragment)},m(t,l){h(t,e,l),A(n,e,null),s=!0},p:k,i(t){s||(E(n.$$.fragment,t),s=!0)},o(t){J(n.$$.fragment,t),s=!1},d(t){t&&v(e),q(n)}}}function fe(r){let e,n,s,t,l;return t=new Y({props:{$$slots:{default:[ue]},$$scope:{ctx:r}}}),{c(){e=u("div"),n=u("nav"),n.innerHTML=`<div class="flex-1 px-2 mx-2"><span class="text-lg font-bold">Voice To Text helper for NeosVR</span></div>  
    <div class="flex-none hidden px-2 mx-2 lg:flex"><div class="flex items-stretch"></div></div>`,s=_(),H(t.$$.fragment),a(n,"class","navbar mb-2 shadow-lg bg-neutral text-neutral-content"),a(e,"class","lg:pb-12")},m(o,c){h(o,e,c),i(e,n),i(e,s),A(t,e,null),l=!0},p(o,[c]){const m={};c&1&&(m.$$scope={dirty:c,ctx:o}),t.$set(m)},i(o){l||(E(t.$$.fragment,o),l=!0)},o(o){J(t.$$.fragment,o),l=!1},d(o){o&&v(e),q(t)}}}class de extends P{constructor(e){super();M(this,e,null,fe,N,{})}}new de({target:document.getElementById("app")});
